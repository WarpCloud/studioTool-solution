{
	"deps": [{
		"upstream": "38_创建hdfs文件夹",
		"downstream": "35_导入数据_orc_1",
		"relation": "YES"
	}, {
		"upstream": "38_创建hdfs文件夹",
		"downstream": "35_导入数据_orc_2",
		"relation": "YES"
	}, {
		"upstream": "38_创建hdfs文件夹",
		"downstream": "35_导入数据_orc_3",
		"relation": "YES"
	}, {
		"upstream": "35_导入数据_orc_1",
		"downstream": "distcp",
		"relation": "YES"
	}, {
		"upstream": "35_导入数据_orc_2",
		"downstream": "distcp",
		"relation": "YES"
	}, {
		"upstream": "35_导入数据_orc_3",
		"downstream": "distcp",
		"relation": "YES"
	}, {
		"upstream": "distcp",
		"downstream": "TDT_38_1",
		"relation": "YES"
	}, {
		"upstream": "distcp",
		"downstream": "TDT_38_2",
		"relation": "YES"
	}, {
		"upstream": "distcp",
		"downstream": "TDT_38_3",
		"relation": "YES"
	}, {
		"upstream": "35_创建orc表_导入数据",
		"downstream": "38_创建hdfs文件夹",
		"relation": "YES"
	}],
	"type": "UPDATE",
	"version": "0.0.0",
	"deletedTasks": [],
	"updatedTasks": [],
	"newTasks": [],
	"unchangedTasks": [{
		"domainId": 0,
		"workspaceId": 0,
		"parentTaskId": 42,
		"id": 43,
		"owner": "workflow",
		"appVersion": "0.0.0",
		"type": "PLUGIN",
		"deployType": "DEV",
		"name": "35_导入数据_orc_1",
		"desc": "",
		"sourceWFId": 0,
		"preRelation": {
			"183": "YES"
		},
		"postRelation": {
			"53": "YES"
		},
		"fileInfo": [],
		"position": {
			"x": 287,
			"y": 86
		},
		"pluginName": "dataflow",
		"priority": "LOW",
		"enabled": true,
		"parameters": "[]",
		"conf": "{\"warn_timeout\":0,\"execute_timeout\":0,\"retry_count\":0,\"retry_interval\":\"5m\",\"os_user\":0,\"dataflow\":{\"domain_id\":1,\"workspace_id\":1,\"dataflow_uuid\":\"7d10ec40-dc93-44c2-81bd-87894176bc30\",\"dataflow_var\":{}}}",
		"cron": null,
		"agentId": 0
	}, {
		"domainId": 0,
		"workspaceId": 0,
		"parentTaskId": 42,
		"id": 44,
		"owner": "workflow",
		"appVersion": "0.0.0",
		"type": "PLUGIN",
		"deployType": "DEV",
		"name": "35_导入数据_orc_2",
		"desc": "",
		"sourceWFId": 0,
		"preRelation": {
			"183": "YES"
		},
		"postRelation": {
			"53": "YES"
		},
		"fileInfo": [],
		"position": {
			"x": 516,
			"y": 84
		},
		"pluginName": "dataflow",
		"priority": "LOW",
		"enabled": true,
		"parameters": "[]",
		"conf": "{\"warn_timeout\":0,\"execute_timeout\":0,\"retry_count\":0,\"retry_interval\":\"5m\",\"os_user\":0,\"dataflow\":{\"domain_id\":1,\"workspace_id\":1,\"dataflow_uuid\":\"a05440a7-54d3-4d45-a7f4-e162c5b85816\",\"dataflow_var\":{}}}",
		"cron": null,
		"agentId": 0
	}, {
		"domainId": 0,
		"workspaceId": 0,
		"parentTaskId": 42,
		"id": 45,
		"owner": "workflow",
		"appVersion": "0.0.0",
		"type": "PLUGIN",
		"deployType": "DEV",
		"name": "35_导入数据_orc_3",
		"desc": "",
		"sourceWFId": 0,
		"preRelation": {
			"183": "YES"
		},
		"postRelation": {
			"53": "YES"
		},
		"fileInfo": [],
		"position": {
			"x": 745,
			"y": 79
		},
		"pluginName": "dataflow",
		"priority": "LOW",
		"enabled": true,
		"parameters": "[]",
		"conf": "{\"warn_timeout\":0,\"execute_timeout\":0,\"retry_count\":0,\"retry_interval\":\"5m\",\"os_user\":0,\"dataflow\":{\"domain_id\":1,\"workspace_id\":1,\"dataflow_uuid\":\"96272402-bfac-4610-8699-1c149a101ad9\",\"dataflow_var\":{}}}",
		"cron": null,
		"agentId": 0
	}, {
		"domainId": 0,
		"workspaceId": 0,
		"parentTaskId": 42,
		"id": 53,
		"owner": "workflow",
		"appVersion": "0.0.0",
		"type": "PLUGIN",
		"deployType": "DEV",
		"name": "distcp",
		"desc": "",
		"sourceWFId": 0,
		"preRelation": {
			"43": "YES",
			"44": "YES",
			"45": "YES"
		},
		"postRelation": {
			"54": "YES",
			"55": "YES",
			"56": "YES"
		},
		"fileInfo": [],
		"position": {
			"x": 515,
			"y": 273
		},
		"pluginName": "shell",
		"priority": "LOW",
		"enabled": true,
		"parameters": "[]",
		"conf": "{\"warn_timeout\":0,\"execute_timeout\":0,\"retry_count\":0,\"retry_interval\":\"5m\",\"os_user\":0,\"shell\":{\"command\":\"source /bin/tdh_client_import.sh\\n\\nhadoop distcp hdfs://${hostname_distcp_A}:8020/test_38 hdfs://${hostname_distcp_B}:8020/test_data\",\"type\":\"NONE\"}}",
		"cron": null,
		"agentId": 0
	}, {
		"domainId": 0,
		"workspaceId": 0,
		"parentTaskId": 42,
		"id": 54,
		"owner": "workflow",
		"appVersion": "0.0.0",
		"type": "PLUGIN",
		"deployType": "DEV",
		"name": "TDT_38_1",
		"desc": "",
		"sourceWFId": 0,
		"preRelation": {
			"53": "YES"
		},
		"postRelation": {},
		"fileInfo": [],
		"position": {
			"x": 295,
			"y": 449
		},
		"pluginName": "dataflow",
		"priority": "LOW",
		"enabled": true,
		"parameters": "[]",
		"conf": "{\"warn_timeout\":0,\"execute_timeout\":0,\"retry_count\":0,\"retry_interval\":\"5m\",\"os_user\":0,\"dataflow\":{\"domain_id\":1,\"workspace_id\":1,\"dataflow_uuid\":\"161947b8-7c7f-4308-adad-a1eaea0648f5\",\"dataflow_var\":{}}}",
		"cron": null,
		"agentId": 0
	}, {
		"domainId": 0,
		"workspaceId": 0,
		"parentTaskId": 42,
		"id": 55,
		"owner": "workflow",
		"appVersion": "0.0.0",
		"type": "PLUGIN",
		"deployType": "DEV",
		"name": "TDT_38_2",
		"desc": "",
		"sourceWFId": 0,
		"preRelation": {
			"53": "YES"
		},
		"postRelation": {},
		"fileInfo": [],
		"position": {
			"x": 513,
			"y": 453
		},
		"pluginName": "dataflow",
		"priority": "LOW",
		"enabled": true,
		"parameters": "[]",
		"conf": "{\"warn_timeout\":0,\"execute_timeout\":0,\"retry_count\":0,\"retry_interval\":\"5m\",\"os_user\":0,\"dataflow\":{\"domain_id\":1,\"workspace_id\":1,\"dataflow_uuid\":\"2434ccee-f5f5-41ab-8486-aaa77796946d\",\"dataflow_var\":{}}}",
		"cron": null,
		"agentId": 0
	}, {
		"domainId": 0,
		"workspaceId": 0,
		"parentTaskId": 42,
		"id": 56,
		"owner": "workflow",
		"appVersion": "0.0.0",
		"type": "PLUGIN",
		"deployType": "DEV",
		"name": "TDT_38_3",
		"desc": "",
		"sourceWFId": 0,
		"preRelation": {
			"53": "YES"
		},
		"postRelation": {},
		"fileInfo": [],
		"position": {
			"x": 758,
			"y": 451
		},
		"pluginName": "dataflow",
		"priority": "LOW",
		"enabled": true,
		"parameters": "[]",
		"conf": "{\"warn_timeout\":0,\"execute_timeout\":0,\"retry_count\":0,\"retry_interval\":\"5m\",\"os_user\":0,\"dataflow\":{\"domain_id\":1,\"workspace_id\":1,\"dataflow_uuid\":\"0af2c8ba-7a9b-4898-8414-d5762a81927b\",\"dataflow_var\":{}}}",
		"cron": null,
		"agentId": 0
	}, {
		"domainId": 0,
		"workspaceId": 0,
		"parentTaskId": 42,
		"id": 182,
		"owner": "admin",
		"appVersion": "0.0.0",
		"type": "PLUGIN",
		"deployType": "DEV",
		"name": "35_创建orc表_导入数据",
		"desc": "",
		"sourceWFId": 0,
		"preRelation": {},
		"postRelation": {
			"183": "YES"
		},
		"fileInfo": [],
		"position": {
			"x": 510,
			"y": -120
		},
		"pluginName": "jdbc",
		"priority": "LOW",
		"enabled": true,
		"parameters": "[]",
		"conf": "{\"warn_timeout\":0,\"execute_timeout\":0,\"retry_count\":0,\"retry_interval\":\"5m\",\"os_user\":0,\"jdbc\":{\"url\":\"jdbc:hive2://${hostname_inceptor_A}:10000/default;\",\"type\":\"NONE\",\"content\":\"use test_data;\\n\\ndrop table test_data.test_35_orc_1;\\ndrop table test_data.test_35_orc_2;\\ndrop table test_data.test_35_orc_3;\\n\\ncreate table test_data.test_35_orc_1;(\\n`n1` bigint,\\n`n2` string,\\n`n3` string,\\n`n4` date,\\n`n5` string,\\n`n6` decimal(38,10),\\n`n7` smallint,\\n`n8` int,\\n`n9` string,\\n`n10` string,\\n`n11` string,\\n`n12` boolean,\\n`n13` tinyint,\\n`n14` decimal(38,10),\\n`n15` decimal(10,2))\\nSTORED AS ORC;\\n\\n\\ncreate table test_data.test_35_orc_2;(\\n`n1` bigint,\\n`n2` string,\\n`n3` string,\\n`n4` date,\\n`n5` string,\\n`n6` decimal(38,10),\\n`n7` smallint,\\n`n8` int,\\n`n9` string,\\n`n10` string,\\n`n11` string,\\n`n12` boolean,\\n`n13` tinyint,\\n`n14` decimal(38,10),\\n`n15` decimal(10,2))\\nSTORED AS ORC;\\n\\n\\ncreate table test_data.test_35_orc_3;(\\n`n1` bigint,\\n`n2` string,\\n`n3` string,\\n`n4` date,\\n`n5` string,\\n`n6` decimal(38,10),\\n`n7` smallint,\\n`n8` int,\\n`n9` string,\\n`n10` string,\\n`n11` string,\\n`n12` boolean,\\n`n13` tinyint,\\n`n14` decimal(38,10),\\n`n15` decimal(10,2))\\nSTORED AS ORC;\\n\\ndrop view test_data.test_vi_1;\\ndrop view test_data.test_vi_2;\\ndrop view test_data.test_vi_3;\\n\\n\\ncreate view test_data.test_vi_1 as select * from test_data.test_35_orc_1;\\ncreate view test_data.test_vi_2 as select * from test_data.test_35_orc_2;\\ncreate view test_data.test_vi_3 as select * from test_data.test_35_orc_3;\\n\\ndrop table test_data.test_hdfs_orc_1;\\ndrop table test_data.test_hdfs_orc_2;\\ndrop table test_data.test_hdfs_orc_3;\\n\\nCREATE EXTERNAL TABLE test_data.test_hdfs_orc_1 (\\n`n1` bigint,\\n`n2` string,\\n`n3` string,\\n`n4` date,\\n`n5` string,\\n`n6` decimal(38,10),\\n`n7` smallint,\\n`n8` int,\\n`n9` string,\\n`n10` string,\\n`n11` string,\\n`n12` boolean,\\n`n13` tinyint,\\n`n14` decimal(38,10),\\n`n15` decimal(10,2))\\nSTORED AS CSVFILE\\nlocation '/tdt_auto_test_dc/autotable1' \\nTBLPROPERTIES('quote.delim'='\\\"','escape.delim'='\\\"','line.delim'='\\\\n','field.delim'=',','serialization.binary.field.encoding'='HEX','serialization.line.encoding'='UTF-8','serialization.null.format'='');\\n\\n\\nCREATE EXTERNAL TABLE test_data.test_hdfs_orc_2 (\\n`n1` bigint,\\n`n2` string,\\n`n3` string,\\n`n4` date,\\n`n5` string,\\n`n6` decimal(38,10),\\n`n7` smallint,\\n`n8` int,\\n`n9` string,\\n`n10` string,\\n`n11` string,\\n`n12` boolean,\\n`n13` tinyint,\\n`n14` decimal(38,10),\\n`n15` decimal(10,2))\\nSTORED AS CSVFILE\\nlocation '/tdt_auto_test_dc/autotable1' \\nTBLPROPERTIES('quote.delim'='\\\"','escape.delim'='\\\"','line.delim'='\\\\n','field.delim'=',','serialization.binary.field.encoding'='HEX','serialization.line.encoding'='UTF-8','serialization.null.format'='');\\n\\n\\nCREATE EXTERNAL TABLE test_data.test_hdfs_orc_3 (\\n`n1` bigint,\\n`n2` string,\\n`n3` string,\\n`n4` date,\\n`n5` string,\\n`n6` decimal(38,10),\\n`n7` smallint,\\n`n8` int,\\n`n9` string,\\n`n10` string,\\n`n11` string,\\n`n12` boolean,\\n`n13` tinyint,\\n`n14` decimal(38,10),\\n`n15` decimal(10,2))\\nSTORED AS CSVFILE\\nlocation '/tdt_auto_test_dc/autotable1' \\nTBLPROPERTIES('quote.delim'='\\\"','escape.delim'='\\\"','line.delim'='\\\\n','field.delim'=',','serialization.binary.field.encoding'='HEX','serialization.line.encoding'='UTF-8','serialization.null.format'='');\\n\\ninsert into test_data.test_vi_1 select * from test_data.test_hdfs_orc_1;\\ninsert into test_data.test_vi_2 select * from test_data.test_hdfs_orc_2;\\ninsert into test_data.test_vi_3 select * from test_data.test_hdfs_orc_3;\\n\\n\\nset mapred.reduce.tasks = 1;\\n\\nINSERT INTO TABLE\\ntest_data.test_35_orc_1 SELECT * FROM test_data.test_vi_1 DISTRIBUTE\\nBY\\nCEIL(RAND() * 1);\\n\\n\\nINSERT INTO TABLE\\ntest_data.test_35_orc_2 SELECT * FROM test_data.test_vi_2 DISTRIBUTE\\nBY\\nCEIL(RAND() * 1);\\n\\n\\nINSERT INTO TABLE\\ntest_data.test_35_orc_3 SELECT * FROM test_data.test_vi_3 DISTRIBUTE\\nBY\\nCEIL(RAND() * 1);\"}}",
		"cron": null,
		"agentId": 0
	}, {
		"domainId": 0,
		"workspaceId": 0,
		"parentTaskId": 42,
		"id": 183,
		"owner": "admin",
		"appVersion": "0.0.0",
		"type": "PLUGIN",
		"deployType": "DEV",
		"name": "38_创建hdfs文件夹",
		"desc": "",
		"sourceWFId": 0,
		"preRelation": {
			"182": "YES"
		},
		"postRelation": {
			"43": "YES",
			"44": "YES",
			"45": "YES"
		},
		"fileInfo": [],
		"position": {
			"x": 511,
			"y": -29
		},
		"pluginName": "shell",
		"priority": "LOW",
		"enabled": true,
		"parameters": "[]",
		"conf": "{\"warn_timeout\":0,\"execute_timeout\":0,\"retry_count\":0,\"retry_interval\":\"5m\",\"os_user\":0,\"shell\":{\"command\":\"source /bin/tdh_client_import.sh\\n\\nhdfs dfs -rm -r -f skipTrash /test_38\\n\\nhdfs dfs -mkdir /test_38\\n\\nhdfs dfs -mkdir /test_38/case1\\n\\nhdfs dfs -mkdir /test_38/case2\\n\\nhdfs dfs -mkdir /test_38/case3\\n\\nhdfs dfs -chmod 777 /test_38\\n\\nhdfs dfs -chmod 777 /test_38/case1\\n\\nhdfs dfs -chmod 777 /test_38/case2\\n\\nhdfs dfs -chmod 777 /test_38/case3\",\"type\":\"NONE\"}}",
		"cron": null,
		"agentId": 0
	}],
	"workflow": {
		"id": 42,
		"name": "hdfs跨租户多表文件互导",
		"precondition": null,
		"parentTaskId": 0,
		"enabled": "true",
		"graphId": 0,
		"owner": "workflow",
		"deployer": "system",
		"deployType": "DEV",
		"priority": "LOW",
		"appVersion": "0.0.0",
		"workspaceId": 0,
		"domainId": 0,
		"parameters": "[{\"name\":\"hostname_inceptor_A\",\"type\":\"CONSTANT\",\"expr\":\"172.26.5.35\"},{\"name\":\"hostname_distcp_A\",\"type\":\"CONSTANT\",\"expr\":\"172.26.5.36\"},{\"name\":\"hostname_distcp_B\",\"type\":\"CONSTANT\",\"expr\":\"172.26.5.39\"}]",
		"preRelation": null,
		"postRelation": null,
		"createTime": "2020-03-13 14:11:35",
		"lastUpdateTime": "2020-03-25 14:47:30",
		"email": null,
		"sms": null,
		"desc": "1",
		"conf": "{\"parallel_number\":0,\"parallel_type\":\"SEQUENCE\"}",
		"cron": "0 0 1 * * ?",
		"deps": [{
			"upstream": "38_创建hdfs文件夹",
			"downstream": "35_导入数据_orc_1",
			"relation": "YES"
		}, {
			"upstream": "38_创建hdfs文件夹",
			"downstream": "35_导入数据_orc_2",
			"relation": "YES"
		}, {
			"upstream": "38_创建hdfs文件夹",
			"downstream": "35_导入数据_orc_3",
			"relation": "YES"
		}, {
			"upstream": "35_导入数据_orc_1",
			"downstream": "distcp",
			"relation": "YES"
		}, {
			"upstream": "35_导入数据_orc_2",
			"downstream": "distcp",
			"relation": "YES"
		}, {
			"upstream": "35_导入数据_orc_3",
			"downstream": "distcp",
			"relation": "YES"
		}, {
			"upstream": "distcp",
			"downstream": "TDT_38_1",
			"relation": "YES"
		}, {
			"upstream": "distcp",
			"downstream": "TDT_38_2",
			"relation": "YES"
		}, {
			"upstream": "distcp",
			"downstream": "TDT_38_3",
			"relation": "YES"
		}, {
			"upstream": "35_创建orc表_导入数据",
			"downstream": "38_创建hdfs文件夹",
			"relation": "YES"
		}]
	}
}